<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../../vender/jquery/jquery-3.5.1.min.js"></script>
    <style>
        img{
            width: 60px;
        }
    </style>
</head>
<body>
    <input type="file" name="upFile[]" id="theFile" accept="image/png, image/jpeg"  multiple>
    <script>
        const theFile = document.querySelector('#theFile');

        theFile.addEventListener('change', (e) => {
            console.log(e.target.files); // get file object
            let form = new FormData();
            // form.append("upFile[]", e.target.files)

            for(i=0;i<3;i++){
                form.append("upFile[]", e.target.files[i])
            }
            let groupsxhr = new XMLHttpRequest();
            groupsxhr.onload = function(){
                if(groupsxhr.status == 200){ //success
                    console.log(groupsxhr.responseText);
                }else{ //error
                    alert(groupsxhr.responseText);
                }
            }
            groupsxhr.open("Post", "./upload.php", true);
            groupsxhr.setRequestHeader("content-type","application/x-www-form-urlencoded");
            groupsxhr.send(form);

        });
        // $(document).ready(function(){
            // "application/x-www-form-urlencoded"
        //     $.ajax({
        //     url: "./createNewGroup.php",
        //     type: "POST",
        //     data: new FormData(this),
        //     contentType: false,
        //     cache: false,
        //     processData:false,
        //     })
        //     .done(function(data, textStatus, jqXHR) {//新增商品回傳到HTML成功的訊息
        //         console.log(data.name);
        //     });
        // });
    </script>
</body>
</html>