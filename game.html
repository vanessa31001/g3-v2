<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>露營小知識</title>
    <link rel="stylesheet" href="./css/style.css">
    <!-- <link rel="stylesheet" href="./css/bigame.css"> -->
    
    <link rel="stylesheet" href="./hamburgers-master/dist/hamburgers.css">
 
   
  
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    
   
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TimelineMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <script src="js/question.js"></script>
    <script src="js/getLoginInfo.js"></script>
    <script src="js/sign_in.js"></script>

  

   
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://npmcdn.com/leaflet@0.7.7/dist/leaflet.js"></script>
    <script src="./vender/jquery/jquery-3.5.1.min.js"></script>
    
  
    <link rel="shortcut icon" href="./pic/commom/browser.ico">
    

</head>
<body>
  <header >
    <div class="forphone">
    <button class="hamburger hamburger--spring" type="button">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>
    </div>
    <nav class="wrap_nav">
        <div class="nav_logo">
            <a href="#" class="logo_link -bottom">
                <img class="desk sun" src="./pic/commom/sun.svg" alt="">
            </a>
            <a class="changelogo" href="./shansen.html">
            <img class="phone" src="./pic/commom/phone_header.svg">
            </a>
            <div class="middle_bg"></div>
            <a href="./shansen.html" class="logo_link -up">
                <img class="desk" src="./pic/commom/pc_header.svg">
            </a>
        </div>
        <div class="nav_list">
            <ul >
                <li><a class="nav_title" href="./group.html">揪團露營</a></li>
                <li><a class="nav_title" href="./equipment.html">設備交換</a></li>
                <li><a class="nav_title" href="./camping.html">營區攻略</a></li>
                <li><a class="nav_title" href="./letter.html">來去寫信</a></li>
                <li><a class="nav_title" href="./aboutus.html">關於我們</a></li>
                <li><a href="./member.html" id="header_memName">&nbsp;</a><a class="nav_title" href="#" id="spanLogin">登入|註冊</a></li>
            </ul>
        </div>
    </nav>
</header>
    

  <!--原 開始-->

  <section class="section_001 bgcColor">
    <div class="wrap">
        <div class="title game_title">
            露營小知識
        </div>
        <div class="third_title game_title_word">
            挑戰露營知識智慧王!趕緊來玩吧~!
        </div>
    </div>
</section>

<!-- <div class="pppp">1111</div> -->
  <div class="game_table bgcColor p">
    <form action="#">

       <!--以下 新的-->
    <div class="qawrap">
        <!-- qa -->
        <div class="qa sub_title game_title_question01" style="opacity:0;">
            <h2 id="question">
              Q1:請問露營時遇到熊怎麼辦?   
            </h2>
        </div>
        <!-- qa end -->

        <!-- answerBox -->
        <div class="answerBox" id="answerBox" >
            <div class="box ans1 game_button_01" id="ans1" style="opacity:0;">
             <button class="mainbtn2 myMOUSE" id="game_button_answer01"> A:爬到樹上</button>
                <!-- <img src="images/ChainOil.png"> -->
                <!-- <p>A:爬到樹上</p> -->
            </div>
            <div class="box ans2 game_button_02" id="ans2" style="opacity:0;">
                <div class="img"><!--<img src="images/gasoline.png">--></div>
                <div class="text">
                  <button class="mainbtn2 myMOUSE" id="game_button_answer01"> B:躺在地上裝死</button>
                    <!-- <p>B:躺在地上裝死</p> -->
                </div>
            </div>
            <div class="box ans3 game_button_03" id="ans3" style="opacity:0;">
                <div class="img"><!--<img src="images/oliveOil.png">--></div>
                <div class="text">
                  <button class="mainbtn2 myMOUSE" id="game_button_answer01">C:與熊搏鬥</button>
                    <!-- <p>C:與熊搏鬥</p> -->
                </div>
            </div>
        </div>
      </form>
    </div> 
  

    
        <div class="rightBox" style="opacity:0">
            <img src="./pic/game/rightpicc.svg">
        </div>

        

          
        <div class="wrongBox" style="opacity:0">
            <img src="./pic/game/wrongpicc.svg" alt="">
        </div>
    
    <!-- scoreWindow -->
        <div class="scoreWindow" style="opacity: 0;">
            

        
          <div class="game_final_img">
            <div class="pic_small_block">
            <img src="./pic/game/game_final.svg">
          </div>

                    <a style="text-decoration: none margin-bottom:10px" href="group.html"> <!--再補上-->
                      <button class="thirdbtn1_green from_group">一起來揪團露營!GO~!</button>
                    </a>
                    <br>
                    <a style="text-decoration: none margin-bottom:10px" href="game.html"> <!--再補上-->
                      <button class="thirdbtn1_green from_game">再玩一次!</button>
                    </a>
                    
                     
                 
            </div> 
            
          </div>
            <!-- levelBox end -->

                <!-- linkButton -->
                <!-- <div class=" linkButton">
                    <a href="CYShop.html">
                        點選此處,前往選購商品
                    </a>
                </div>  -->
                <!-- linkButton end -->

        </div> 
        <!-- scoreWindow end -->

    </div> 
  
<!-- qawrap end -->

<script>

var count = 0;
    function init() {
    
    askQuestion();
  }
  //判斷螢幕尺寸大小
  function askQuestion() {
    if ($(window).width() > 768) {
      main();
    } else {
      rwdMain();
    }
  }
  
  window.addEventListener("load", function(){
   
    let xhr = new XMLHttpRequest();
    //---------------
    // QUE_TITLE
    // QUE_OPT1
    // QUE_OPT2
    // QUE_OPT3
    // QUE_ANS
    // QUE_STATUS
    // ["Q5:哪些是夜間照明工具?", "菜籃", "反光板", "旗子"]
    //---------------
    xhr.onload = function(){
      questions = JSON.parse(xhr.responseText);
      console.log("//--------------");
      console.log(questions);
      console.log("//--------------");
      init();
    }
    xhr.open("get", "php/getQuestion.php",false);
    xhr.send(null);
  })
  ////////////////////變數設定開始////////////////////
  //背景圖片
  var background = ["questionBGI.png", "questionBGI2.png", "questionBGIDark.png"];
  
  //問題
  var questions;
  // var questions = [
  //   ["Q1:請問露營時遇到熊怎麼辦？", "爬到樹上", "與熊搏鬥", "逃跑"],
  //   ["Q2:如何挑選帳篷？", "內帳800", "內+外帳1800", "外帳2000"],
  //   ["Q3:哪些是小物件準備？", "睡袋", "安全帽", "爆米花桶"],
  //   ["Q4:野炊設備怎麼挑?", "鍋碗", "烤架", "卡式瓦斯爐"],
  //   ["Q5:哪些是夜間照明工具?", "菜籃", "反光板", "旗子"]
  // ];
  //答案
  var ans = ["逃跑", "內+外帳1800", "安全帽", "卡式瓦斯爐", "反光板"];
  var img = [
    ["", "", ""], //ans=1
    ["", "", ""], //ans=3
    ["", "", ""], //ans=2
    ["", "", ""], //ans=1
    ["", "", ""], //ans=2
  ];
  
  ////////////////////電腦動畫開始////////////////////

 
  function main() { //執行函式

    $('#question').text(questions[count][0]); //換qa的題目
    $('#ans1 img').attr("src", `./images/${img[count][0]}`); //換ans1的圖
    $('#ans2 img').attr("src", `./images/${img[count][1]}`); //換ans2的圖
    $('#ans3 img').attr("src", `./images/${img[count][2]}`); //換ans3的圖
  
    $('#ans1 button').text(questions[count][1]); //換ans1的文字
    $('#ans2 button').text(questions[count][2]); //換ans2的文字
    $('#ans3 button').text(questions[count][3]); //換ans3的文字
  
    //按下選項執行正確或錯誤,之後重複
    //---------------------
    // $('.box').click(function () {
    //   if ($(this).find('button').text() == ans[count]) {
    //     rightOut(); //正確動畫
    //   } else {
    //     wrongOut(); //錯誤動畫
    //   }
    // });
  
    //--------------------
   
    //--------------------
    smallgameIn(); //進場動畫
  }

  $('.box').click(function (e) {
      e.preventDefault();
      console.log('aaa')
      let ansIndex = questions[count][4];
      if ($(this).find('button').text() == questions[count][ansIndex]) {
        console.log("test1")
        rightOut(); //正確動畫
      } else {
        console.log("test2");
        wrongOut(); //錯誤動畫
      }
  });

  //此處判斷答題次數，小於5次重複答題，大於5次接結算畫面
  function pcEnd() {
     count++;
     console.log(count)
    if (count < 5) {
      // console.log(count)
      main()
    } else {
      score(); //呼叫結算畫面
      $('.scoreWindow').css("pointerEvents", "auto");
    }
   
  }
  //結算畫面
  function score() {
    var score = new TimelineMax({});
    score.to('.scoreWindow', .5, {
      css: {
        opacity: 1
      }
    })
  }
  //動態
  function smallgame() {
    TweenMax.to('.bw', 1, {
      repeat: -1,
      rotation: 360,
      ease: Power0.easeNone,
    });
    TweenMax.to('.fw', 1, {
      repeat: -1,
      rotation: 360,
      ease: Power0.easeNone,
    });
    TweenMax.to('.smallgame', .25, {
      x: (screen.width) - 420,
      ease: Power0.easeNone,
    });
  }
  
  ///動畫js///
  function smallgameIn() {
    smallgame();
    var pcMmoveIn = new TimelineMax({});
    pcMmoveIn.to('.qa', .1, {
      css: {
        opacity: 1
      }
    }).to('.ans1', .25, {
      delay: 0,
      css: {
        opacity: 1,
      }
    }).to('.ans2', .25, {
      delay: 0,
      css: {
        opacity: 1,
      }
    }).to('.ans3', .25, {
      delay: 0,
      css: {
        opacity: 1,
      }
    }).to('.bw', .1, {
      rotation: 0
    }).to('.fw', .1, {
      rotation: 0,
    })
  }
  
  //答對畫面顯示
  function rightBoxShow() {
    var rightBoxIn = new TimelineMax({});
  
    rightBoxIn.to('.rightBox', 2, {
      css: {
        opacity: 1,
        delay: .2
      },
    }).to('.rightBox', 1, {
      css: {
        delay: .2,
        opacity: 0,
      }
    })
  }






  //答題正確,顯示答對畫面
  function rightOut() {
    var rightToOut = new TimelineMax({});
    rightToOut.to('.rightBox', 0.25, {
      css: {
        onComplete: rightBoxShow,
        opacity: 0
      }
    }).to('.qa', .3, {
      css: {
        opacity: 0,
      }
    }).to('.fw', .5, {
      delay: 1,
      rotation: 360,
      repeat: -1,
      ease: Power0.easeNone,
    }).to('.bw', .5, {
      repeat: -1,
      rotation: 360,
      ease: Power0.easeNone,
    }).to('.ans1', .3, {
      css: {
        opacity: 0,
      }
    }).to('.ans2', .2, {
      css: {
        opacity: 0,
      }
    }).to('.ans3', .1, {
      css: {
        opacity: 0,
      }
    }).to('.smallgame', .5, {
      x: 2500,
      y: 0,
      opacity: 0,
    }).to('.smallgame', .5, {
      opacity: 1,
      startAt: {
        x: 300
      },
      onComplete: pcEnd
    })
  }
  
  //答錯畫面顯示
  function wrongBoxShow() {
    var wrongBoxIn = new TimelineMax({});
    wrongBoxIn.to('.wrongBox', 2, {
      css: {
        opacity: 1,
        delay: .2
      },
    }).to('.wrongBox', 1, {
      css: {
        delay: .2,
        opacity: 0,
      }
    })
  }
  //答題錯誤,顯示答錯畫面
  function wrongOut() {
    var wrongToOut = new TimelineMax({});
    wrongToOut.to('.wrongBox', 1, {  //答錯畫面顯示框框
      css: {
        onComplete: wrongBoxShow,
        opacity: 0
      }
    }).to('.qa', .3, {
      css: {
        opacity: 0,
      }
    }).to('.ans1', .3, {
      css: {
        opacity: 0,
      }
    }).to('.ans2', .3, {
      css: {
        opacity: 0,
      }
    }).to('.ans3', .3, {
      css: {
        opacity: 0,
      }
    }).to('.fw', .2, {
      delay: .2,
      rotation: 360,
      ease: Power0.easeNone,
      repeat: -1,
    }).to('.bw', .2, {
      repeat: -1,
      rotation: 360,
      ease: Power0.easeNone,
    }).to('.smallgame', .5, { //換題時間
      x: 2500,
      y: 0,
      opacity: 0,
    }).to('ㄈ', .5, { //換題時間
      opacity: 1,
      startAt: {
        x: 300
      },
      onComplete: pcEnd
      //onComplete: function(){
        //console.log("here");
      //}
    })
  }
  
  ////////////////////電腦動畫結束////////////////////
  
  ////////////////////手機動畫開始////////////////////
//   function rwdMain() { //執行函式

// $('#question').text(questions[count][0]); //換qa的題目
// $('#ans1 img').attr("src", `./images/${img[count][0]}`); //換ans1的圖
// $('#ans2 img').attr("src", `./images/${img[count][1]}`); //換ans2的圖
// $('#ans3 img').attr("src", `./images/${img[count][2]}`); //換ans3的圖

// $('#ans1 button').text(questions[count][1]); //換ans1的文字
// $('#ans2 button').text(questions[count][2]); //換ans2的文字
// $('#ans3 button').text(questions[count][3]); //換ans3的文字

// smallgameIn(); //進場動畫
// }

// $('.box').click(function (e) {
//   e.preventDefault();
//   console.log('aaa')
//   let ansIndex = questions[count][4];
//   if ($(this).find('button').text() == questions[count][ansIndex]) {
//     console.log("test1")
//     rightOut2(); //正確動畫
//   } else {
//     console.log("test2");
//     wrongOut2(); //錯誤動畫
//   }
// });

// //此處判斷答題次數，小於5次重複答題，大於5次接結算畫面
// function phoneEnd() {
//  count++;
//  console.log(count)
// if (count < 5) {
//   // console.log(count)
//  rwdMain();
// } else {
//   score(); //呼叫結算畫面
//   $('.scoreWindow').css("pointerEvents", "auto");
// }

// }
// // //結算畫面
// // function score() {
// // var score = new TimelineMax({});
// // score.to('.scoreWindow', .5, {
// //   css: {
// //     opacity: 1
// //   }
// // })
// // }
// //動態
// function smallgame() {
// TweenMax.to('.bw', 1, {
//   repeat: -1,
//   rotation: 360,
//   ease: Power0.easeNone,
// });
// TweenMax.to('.fw', 1, {
//   repeat: -1,
//   rotation: 360,
//   ease: Power0.easeNone,
// });
// TweenMax.to('.smallgame', .25, {
//   x: (screen.width) - 420,
//   ease: Power0.easeNone,
// });
// }

// ///動畫js///
// function smallgameIn() {
// smallgame();
// var pcMmoveIn = new TimelineMax({});
// pcMmoveIn.to('.qa', .1, {
//   css: {
//     opacity: 1
//   }
// }).to('.ans1', .25, {
//   delay: 0,
//   css: {
//     opacity: 1,
//   }
// }).to('.ans2', .25, {
//   delay: 0,
//   css: {
//     opacity: 1,
//   }
// }).to('.ans3', .25, {
//   delay: 0,
//   css: {
//     opacity: 1,
//   }
// }).to('.bw', .1, {
//   rotation: 0
// }).to('.fw', .1, {
//   rotation: 0,
// })
// }

// //答對畫面顯示
// // function rightBoxShow() {
// // var rightBoxIn = new TimelineMax({});

// // rightBoxIn.to('.rightBox', 2, {
// //   css: {
// //     opacity: 1,
// //     delay: .2
// //   },
// // }).to('.rightBox', 1, {
// //   css: {
// //     delay: .2,
// //     opacity: 0,
// //   }
// // })
// // }







// //答題正確,顯示答對畫面
// function rightOut2() {
// var rightToOut = new TimelineMax({});
// rightToOut.to('.rightBox', 0.25, {
//   css: {
//     onComplete: rightBoxShow,
//     opacity: 0
//   }
// }).to('.qa', .3, {
//   css: {
//     opacity: 0,
//   }
// }).to('.fw', .5, {
//   delay: 1,
//   rotation: 360,
//   repeat: -1,
//   ease: Power0.easeNone,
// }).to('.bw', .5, {
//   repeat: -1,
//   rotation: 360,
//   ease: Power0.easeNone,
// }).to('.ans1', .3, {
//   css: {
//     opacity: 0,
//   }
// }).to('.ans2', .2, {
//   css: {
//     opacity: 0,
//   }
// }).to('.ans3', .1, {
//   css: {
//     opacity: 0,
//   }
// }).to('.smallgame', .5, {
//   x: 2500,
//   y: 0,
//   opacity: 0,
// }).to('.smallgame', .5, {
//   opacity: 1,
//   startAt: {
//     x: 300
//   },
//   onComplete: phoneEnd
// })
// }

// //答錯畫面顯示
// // function wrongBoxShow() {
// // var wrongBoxIn = new TimelineMax({});
// // wrongBoxIn.to('.wrongBox', 2, {
// //   css: {
// //     opacity: 1,
// //     delay: .2
// //   },
// // }).to('.wrongBox', 1, {
// //   css: {
// //     delay: .2,
// //     opacity: 0,
// //   }
// // })
// // }
// //答題錯誤,顯示答錯畫面
// function wrongOut2() {
// var wrongToOut = new TimelineMax({});
// wrongToOut.to('.wrongBox', 1, {  //答錯畫面顯示框框
//   css: {
//     onComplete: wrongBoxShow,
//     opacity: 0
//   }
// }).to('.qa', .3, {
//   css: {
//     opacity: 0,
//   }
// }).to('.ans1', .3, {
//   css: {
//     opacity: 0,
//   }
// }).to('.ans2', .3, {
//   css: {
//     opacity: 0,
//   }
// }).to('.ans3', .3, {
//   css: {
//     opacity: 0,
//   }
// }).to('.fw', .2, {
//   delay: .2,
//   rotation: 360,
//   ease: Power0.easeNone,
//   repeat: -1,
// }).to('.bw', .2, {
//   repeat: -1,
//   rotation: 360,
//   ease: Power0.easeNone,
// }).to('.smallgame', .5, { //換題時間
//   x: 2500,
//   y: 0,
//   opacity: 0,
// }).to('ㄈ', .5, { //換題時間
//   opacity: 1,
//   startAt: {
//     x: 300
//   },
//   onComplete: phoneEnd
//   //onComplete: function(){
//     //console.log("here");
//   //}
// })
// }
  
  
  
  ////////////////////手機動畫結束////////////////////
  
  // window.addEventListener('load', init);
</script>
</body>
</html>